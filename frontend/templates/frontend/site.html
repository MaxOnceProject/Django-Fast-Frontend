<!-- table.html -->
{% extends 'frontend/base.html' %}

{% load django_bootstrap5 %}
{% load django_fast_frontend %}

{% block title %}{{ meta.title }}{% endblock %}

{% block content %}
    {% with request.path|split:"/" as segments %}
        <div class="row align-items-center g-2 mb-2">
            {% if option.site.title %}
                <h1 class="col-12 col-md mb-0">{{ site.title }}</h1>
            {% endif %}
            {% if segments.3 %}
                <div class="col-12 col-md-auto">
                    <a href="{% url 'frontend' app_name=segments.1 model_name=segments.2 %}">{% bootstrap_button button_class="btn-outline-primary" button_type="button" content="Back" %}</a>
                </div>
            {% endif %}
        </div>
        {% if segments.3 %}
            {% if option.table.add or option.table.change %}
                {% include 'frontend/_form.html' %}
            {% endif %}
        {% else %}
            {% if option.site.description %}
                <div class="col-12 mb-4">
                    {{ site.description }}
                </div>
            {% endif %}
            {% if option.table.toolbar_button or option.table.add %}
                {% include 'frontend/_toolbar.html' %}
            {% endif %}
            {% if option.table.show %}
                <div class="row g-2 mb-2">
                    <div class="col-12 d-flex flex-column flex-md-row justify-content-md-end align-items-stretch gap-2 frontend-actions">
                            {% if option.table.search %}
                                {% include 'frontend/_search.html' %}
                            {% endif %}
{#                            {% if option.table.filter_sort %}#}
                                {% include "frontend/_filter_sort.html" %}
{#                            {% endif %}#}
                    </div>
                </div>
                {% if option.table.cards %}
                    {% include 'frontend/_cards.html' %}
                {% else %}
                    {% include 'frontend/_table.html' %}
                {% endif %}
                {% include 'frontend/_pagination.html' %}
            {% endif %}
        {% endif %}
    {% endwith %}
{% endblock %}
