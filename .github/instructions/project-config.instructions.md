---
applyTo: "project/**,setup.py,Dockerfile,docker-compose.yml,conftest.py"
lastUpdated: "2026-02-26"
---
<!-- Generated by .github/agents/ pipeline — do not hand-edit except Overrides section -->

## Purpose
Django project configuration, packaging, deployment, and test setup. This is the glue that wires the `frontend` library to a running application.

## Architecture Flow
```
manage.py → project/settings.py (INSTALLED_APPS includes frontend, app, app2)
project/urls.py:
  path('admin/', admin.site.urls)
  path('accounts/', frontend.accounts.urls)
  path('', frontend.site.urls)
```

## Key Files
| File | Responsibility | Key Exports |
|---|---|---|
| `project/settings.py` | All Django settings + FRONTEND_* config | Settings module |
| `project/urls.py` | Root URL routing — wires admin, accounts, frontend | `urlpatterns` |
| `setup.py` | PyPI package definition — excludes app/app2/project | Package config |
| `Dockerfile` | Python 3.10 container with pip install + migrate | Docker image |
| `docker-compose.yml` | Dev server on port 8000 with volume mount | Dev environment |
| `conftest.py` | Sets `DJANGO_SETTINGS_MODULE` for pytest | Pytest config |
| `project/wsgi.py` | WSGI entry point | `application` |

## Configuration
| Key | Purpose | Default |
|---|---|---|
| `FRONTEND_LOGIN_REQUIRED` | Require auth globally | `True` |
| `FRONTEND_BRAND` | Site brand text | `'Django Fast Frontend'` |
| `FRONTEND_LOGO` | Logo image path | `'img/django-fast-frontend-logo.png'` |
| `FRONTEND_CUSTOM_CSS` | CSS file path | `'css/custom.css'` |
| `FRONTEND_DESCRIPTION` | Site description | `''` |
| `FRONTEND_AUTO_URL` | Auto-inject frontend URLs into `ROOT_URLCONF` at startup (skips manual `urls.py` wiring) | Not set |
| `FRONTEND_URL` | URL prefix for frontend routes | `''` |
| `FRONTEND_SITE_CLASS` | Replace `FrontendSite` singleton entirely — **use with caution, affects all flows** | `None` |

## Environment Variables
| Variable | Purpose |
|---|---|
| `DJANGO_SECRET_KEY` | Secret key (override the insecure default) |
| `DJANGO_DEBUG` | Debug mode (`true`/`false`) |
| `DJANGO_ALLOWED_HOSTS` | Comma-separated allowed hosts |
| `DJANGO_SETTINGS_MODULE` | Settings module path |

## Do / Never
- **DO**: Override `DJANGO_SECRET_KEY` via environment in production
- **DO**: Set `DJANGO_DEBUG=false` in production
- **NEVER**: Commit real secret keys — use environment variables
- **NEVER**: Include `app`, `app2`, or `project` in the PyPI package (excluded in `setup.py`)

## Overrides
